---
title: "Linux 下如何创建并编辑一个二进制文件"
date: 2021-09-26T15:20:14+08:00
draft: true
tags: ["编辑二进制文件", "二进制文件编辑"]
categories: ["Linux"]
---

## 创建二进制文件

```bash
# 创建一个2个字节的二进制文件
dd if=/dev/zero of=./binary_file bs=2 count=1
```

<!--more-->

## 编辑文件

```bash
vim -b ./binary_file
```

```vim
# 将格式转换为十六进制(VIM 编辑器中操作)
:%!xxd

# 文件内容如下：
# 0000000: 0000                                     ..

# 修改文件内容(十六进制 68:h 69:i ASCII 码)：
# 0000000: 6869                                     ..

# 编辑完成后，不要忘记将格式转换为二进制文件保存
:%!xxd -r

# 保存并退出
:wq
```

## 以二进制形式编辑文本文件

```bash
# 创建文件并写入内容
echo -n "ABCDEF" > ./test_file

# 告诉 VIM 编辑期打开的是一个二进制文件
vim -b ./test_file
# 文件显示内容如下：
# ABCD

# 在命令行模式键入命令，以十六进制显示
:%!xxd
# 文件显示内容如下：
# 0000000: 4142 4344                                ABCD
# 修改 4142 为 6162
# 0000000: 6162 4344                                ABCD

# 回到命令行模式输入命令
:%!xxd -r
# 这时可以看到文件内容变成下面这样：
# abCD
```